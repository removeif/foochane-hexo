---
layout:     post
title:      HDFS操作
subtitle:   Hadoop集群下HDFS的文件操作
date:       2019-5-18
author:     foochane
# header-img: img/artile-backguroud.jpg
catalog: true
tags:
    - hadoop
    - 大数据
---




## 1 创建用户目录

```
$ hdfs dfs -mkdir -p /user/hadoop # -p 表示创建多级目录
```

查看刚刚创建的目录：

```
$ hdfs dfs -ls /
Found 2 items
drwxrwx---   - hadoop supergroup          0 2019-04-20 09:59 /tmp
drwxr-xr-x   - hadoop supergroup          0 2019-04-21 01:41 /user
$ hdfs dfs -ls /user
Found 1 items
drwxr-xr-x   - hadoop supergroup          0 2019-04-21 01:41 /user/hadoop

```

```
$ hdfs dfs -mkdir input # input 为相对路径
$ hdfs dfs -ls /user/hadoop
Found 1 items
drwxr-xr-x   - hadoop supergroup          0 2019-04-21 01:46 /user/hadoop/input
```

删除操作：

**注意：hadoop-2.x是可以用`$ hdfs dfs -rm -r /input` ，hadoop-3.x不行。**

```
$ hdfs dfs -rm -r /user/hadoop/input # -r 表示删 除子目录
```

## 2 文件操作

上传文件
```
$ hdfs dfs -mkdir test # 文件夹创建在/user/hadoop下
$ hdfs dfs -put /home/hadoop/test.txt /user/hadoop/test #上传文件到HDFS
$ hdfs dfs -ls test
Found 1 items
-rw-r--r--   3 hadoop supergroup        156 2019-04-21 01:59 test/test.txt

```

下载文件到本地
```
$ hdfs dfs -get test/test.txt /home/hadoop/Downloads
```




